(function(c){c.fn.jarquee=function(d){var f=c.fn.jarquee;d=c.extend({},f.defaults,d);f.options=d;f.object=this;if(""!==d.URL){var a=d.URL;-1<a.indexOf("##")&&(a=a.replace("##",c(this).attr("rel")));-1===a.indexOf("callback=?")&&(a+=-1===a.indexOf("?")?"?callback=?":"&callback=?");c.getJSON(a).done(function(a){!0===d.debug&&console.log(a);if(0<=a.status_code)return f.content=a.data_object,f.init(f.object,!0)}).fail(function(a,c){!0===d.debug&&console.log("Error: "+c.responseText)});return this}return f.init(this,
!1)};c.fn.jarquee.init=function(d,f){var a=c.fn.jarquee,e=a.options,g=a.content;return c(d).each(function(){var b=c(this),d=!0,k,h;b.find("div span").size()||b.wrapInner('<span class="jarquee_content_wrapper" />').wrapInner('<div class="jarquee_inner" />');if(f&&""!==c.fn.jarquee.content)for(h in k=b.attr("rel"),!0===e.debug&&console.log("UseLoaded, Need Banner "+k),d=!1,g)if(parseInt(g[h].id)==k&&(""!==g[h].content&&(b.find("span").html(g[h].content),d=!0),d)){if(null!==e.onLoad)e.onLoad();b.is(":visible")||
b.show();b.parent().is(":visible")||b.parent().show()}k=b.width();b.children(".jarquee_inner").width(e.baseWidth).css("position","absolute");h=b.find("div span").outerWidth();e.center&&k>h?b.children(".jarquee_inner").css("left",parseInt(k-h)>>1):e.offset&&b.children(".jarquee_inner").css("left",e.offset);b.css({position:"relative",overflow:"hidden"});b.find(".jarquee_inner").width(h+20).css({width:""+(h+20),position:"absolute"});a.object=b;a.settings={mW:k,cW:h};if(!0===d){if(e.pause)b.on("mouseenter",
function(){a.action.stop()}).on("mouseleave",function(){a.move()});e.delay?setTimeout(function(){a.move()},e.delay):a.move()}})};c.fn.jarquee.defaults={delay:500,offset:50,speed:5,baseWidth:5E3,debug:!1,URL:""};c.fn.jarquee.action="";c.fn.jarquee.object="";c.fn.jarquee.options="";c.fn.jarquee.settings="";c.fn.jarquee.content="";c.fn.jarquee.move=function(){var d=c.fn.jarquee,f=d.object,a=d.options,e=d.settings,g=f.find("div.jarquee_inner").css("left"),b,g=isNaN(g.replace("px",""))?0:g.replace("px",
"");b=-1*(-1*e.cW-g);a=(e.cW- -1*g)/(20*a.speed)*1E3;a%b>b/2&&(a+=parseInt(b>>1));d.action=f.children(".jarquee_inner").animate({left:"-="+b},a,"linear",function(){f.find(".jarquee_inner").css("left",e.mW);d.move()})}})(jQuery);
